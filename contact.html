<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>联系我们</title>

  <!-- load stylesheets -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400">
  <!-- Google web font "Open Sans" -->
  <link rel="stylesheet" href="font-awesome-4.7.0/css/font-awesome.min.css">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <!-- Bootstrap style -->
  <link rel="stylesheet" href="css/tooplate-style.css">
  <!-- Templatemo style -->

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
          <![endif]-->
  <link rel="icon" href="img/logo.png" type="img/x-ico" />
</head>

<body>
  <div class="container">
    <header class="tm-site-header">
      <h1 class="tm-site-name">星云
        <br>行者</h1>

      <p class="tm-site-description">高质量PPT分享网站</p>
      <nav class="navbar navbar-expand-md tm-main-nav-container">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#tmMainNav" aria-controls="tmMainNav" aria-expanded="false"
          aria-label="Toggle navigation">
          <i class="fa fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse tm-main-nav" id="tmMainNav">
          <ul class="nav nav-fill tm-main-nav-ul">
            <li class="nav-item">
              <a class="nav-link" href="index.html">政企商务</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="index2.html">教育学习</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="index3.html">具体案例</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="index3.html">收费服务</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="contact.html">联系我们</a>
            </li>
          </ul>
        </div>
      </nav>
    </header>
    <div class="tm-main-content">
      <section class="row tm-margin-b-l">
        <div class="col-12">
          <h2 class="tm-blue-text tm-margin-b-p">留言板</h2>
        </div>
        <div class="col-md-6 col-sm-12 mb-md-0 mb-5 tm-overflow-auto">
          <div class="mr-lg-5">
            <!-- contact form -->
            <form action="#" method="post" class="tm-contact-form">
              <div class="form-group">
                <input type="text" id="contact_name" name="contact_name" class="form-control" placeholder="Name" required/>
              </div>
              <div class="form-group">
                <input type="email" id="contact_email" name="contact_email" class="form-control" placeholder="Email" required/>
              </div>
              <div class="form-group">
                <textarea id="contact_message" name="contact_message" class="form-control" rows="3" placeholder="Message" required></textarea>
              </div>
              <button id="send" type="submit" class="tm-btn tm-btn-blue float-right" onclick="sendMsg()">提交留言</button>
            </form>
          </div>
        </div>
        <div class="col-md-6 col-sm-12">
          <p class="tm-margin-b-p">星云行者致力于打造一个纯净、简单的PPT模板分享网站！</p>
          <address>
            <span class="tm-blue-text">我们的宗旨：</span>
            <br> 高质量
            <br> 完全免费
            <br>
            <br>
            <div class="tm-blue-text"> 电子邮箱:
              <a class="tm-blue-text" href="nebualer@outlook.com">nebualer@outlook.com</a>
              <br>
              <br> QQ号:
              <a class="tm-blue-text">9433322</a>
            </div>
          </address>
        </div>
      </section>
      <section class="row tm-margin-b-l">
        <div class="col-12">
          <header>
            <h4 class="tm-blue-text tm-margin-b">留言内容</h4>
          </header>
          <div id="comment">


          </div>
          <!--    <iframe src="location.html" width="600" height="400" frameborder="2" scrolling="no"></iframe>
          <br/>
          <br/> -->
        </div>

        <br/>
        <br/>
        <br/>

    </div>

    <footer> Copyright &copy;
      <span class="tm-current-year">2018</span> Nebulaer - Designed by
      <a href="#/tooplate" target="_parent">navyern</a>
    </footer>
  </div>


  <!-- load JS files -->
  <script src="js/jquery-1.11.3.min.js"></script>
  <!-- jQuery (https://jquery.com/download/) -->
  <script src="js/popper.min.js"></script>
  <!-- Popper (https://popper.js.org/) -->
  <script src="js/bootstrap.min.js"></script>
  <!-- Bootstrap (https://getbootstrap.com/) -->
  <script type="text/javascript" src="js/bmob.js"></script>
  <!-- 引入Bmob后端云SDK -->
  <script type="text/javascript" src="js/bmobSocketIo.js"></script>
  <!-- 引入Bmob后端云监控sdk -->



  <script type="text/javascript">
    window.onload = function () {
      // alert("载入脚本")
      //var dataHtml="";
      //dataHtml = "<span>11111</span><p><span>我觉得这个网站666</span></p>";
      //dataHtml += "<span>11111</span><p><span>我觉得这个网站666</span></p>";     
      // document.getElementById("comment").innerHTML = dataHtml;

    }
    //--------------------------
    //服务器
    BmobSocketIo.initialize("901f0b823f396e31c3de5057e3101984");
    Bmob.initialize("901f0b823f396e31c3de5057e3101984", "bca7e62a79cdd23b4475cb0395c45d6b");
    //初始连接socket.io服务器后，需要监听的事件都写在这个函数内
    BmobSocketIo.onInitListen = function () {
      //订阅Comment表的数据更新事件
      BmobSocketIo.updateTable("Comment");
    };
    //监听服务器返回的更新表的数据
    BmobSocketIo.onUpdateTable = function (tablename, data) {

      if (tablename == "Comment") {
        // alert(tablename);
        //var content = $("#data");
        //var p = '<p><span style="color:red;">' + data.contact_name + '</span>  ' + '<span style="color:green;">' + data.createdAt + '</span>  ' + ' :<br/> ' + data.content + '</p><br/><br/>';
        //content.html(content.html() + p);
        alert("1111111");
        var dataHtml = "";
        dataHtml = "<span>11111</span><p><span>我觉得这个网站666</span></p>";
        dataHtml += "<span>11111</span><p><span>我觉得这个网站666</span></p>";
        document.getElementById("comment").innerHTML = dataHtml;

      }
    };

    //-----提交留言
    function sendMsg() {
      var contact_name = $("#contact_name").val();
      // alert( $("#contact_name").val());
      var contact_email = $("#contact_email").val();
      var contact_message = $("#contact_message").val();
      if ($.trim(contact_name) == "") {
        alert("昵称不能为空！");
        return;
      }
      if ($.trim(contact_email) == "") {
        alert("邮箱地址不能为空！");
        return;
      }
      if ($.trim(contact_message) == "") {
        alert("请填写留言内容，谢谢！");
        return;
      }
      var Chat = Bmob.Object.extend("Chat");
      var chat = new Chat();
      chat.set("name", $("#name").val());
      chat.set("content", $("#content").val());
      chat.save(null, {
        success: function (object) {
        },
        error: function (model, error) {
        }
      });
    }














  </script>
</body>

</html>